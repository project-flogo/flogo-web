{
  "name": "flogoApp0.9.0",
  "type": "flogo:app",
  "version": "0.0.1",
  "appModel": "1.1.0",
  "description": "flogo application",
  "imports": [
    "github.com/project-flogo/contrib/activity/channel",
    "github.com/project-flogo/contrib/activity/log",
    "github.com/project-flogo/contrib/trigger/channel",
    "github.com/project-flogo/contrib/trigger/cli",
    "github.com/project-flogo/contrib/trigger/rest",
    "github.com/project-flogo/flow",
    "github.com/project-flogo/stream",
    "github.com/project-flogo/stream/activity/filter"
  ],
  "triggers": [
    {
      "id": "cli_trigger",
      "ref": "#cli",
      "name": "CLI Trigger",
      "description": "Simple CLI Trigger",
      "settings": {
        "singleCmd": null,
        "usage": null,
        "long": null
      },
      "handlers": [
        {
          "action": {
            "ref": "#flow",
          "settings": {
              "flowURI": "res://flow:test_flow"
            }
          }
        }
      ]
    },
    {
      "id": "listen_to_channel",
      "ref": "#channel",
      "name": "Listen to Channel",
      "description": "Listens to Channel",
      "handlers": [
        {
          "action": {
            "ref": "#flow",
            "settings": {
              "flowURI": "res://flow:test_flow"
            }
            }
          }
      ]
        },
    {
      "id": "cli_trigger_1",
      "ref": "#cli",
      "name": "CLI Trigger (1)",
      "description": "Simple CLI Trigger",
      "settings": {
        "singleCmd": null,
        "usage": null,
        "long": null
      },
      "handlers": [
        {
          "action": {
            "id": "action_1"
            }
        }
      ]
          },
    {
      "id": "receive_http_message",
      "ref": "#rest",
      "name": "Receive HTTP Message",
      "description": "Simple REST Trigger",
          "settings": {
        "port": null,
        "enableTLS": null,
        "certFile": null,
        "keyFile": null
    },
      "handlers": [
        {
          "action": {
            "id": "action_1"
          }
            }
      ]
    }
  ],
  "actions": [
    {
      "id": "action_1",
      "ref": "#stream",
          "settings": {
        "pipelineURI": "res://pipeline:test_stream"
          }
    }
  ],
  "resources": [
    {
      "id": "flow:test_flow",
      "data": {
        "name": "testFlow",
        "tasks": [
          {
            "id": "channel_2",
            "name": "Channel",
            "description": "Publish on Channel",
            "activity": {
              "ref": "#channel"
            }
          },
          {
            "id": "filter_3",
            "name": "Filter",
            "description": "Simple Filter Activity",
            "activity": {
              "ref": "#filter"
            }
          },
          {
            "id": "log_4",
            "name": "Log",
            "description": "Logs a message",
            "activity": {
              "ref": "#log",
              "input": {
                "message": "",
                "addDetails": false
              }
            }
          },
          {
            "id": "log_5",
            "name": "Log (2)",
            "description": "Logs a message",
            "activity": {
              "ref": "#log",
              "input": {
                "message": "",
                "addDetails": false
              }
            }
          },
          {
            "id": "channel_6",
            "name": "Channel (2)",
            "description": "Publish on Channel",
            "activity": {
              "ref": "#channel"
            }
          }
        ],
        "links": [
          {
            "from": "channel_2",
            "to": "filter_3"
          },
          {
            "from": "filter_3",
            "to": "log_4"
          },
          {
            "from": "log_4",
            "to": "log_5"
          },
          {
            "from": "log_5",
            "to": "channel_6"
            }
          ]
      }
    },
    {
      "id": "pipeline:test_stream",
      "data": {
        "name": "testStream",
        "stages": [
          {
            "name": "Filter",
            "description": "Simple Filter Activity",
            "ref": "#filter"
          },
          {
            "name": "Log",
            "description": "Logs a message",
            "ref": "#log"
          },
          {
            "name": "Channel",
            "description": "Publish on Channel",
            "ref": "#channel"
          },
          {
            "name": "Filter (2)",
            "description": "Simple Filter Activity",
            "ref": "#filter"
          },
          {
            "name": "Log (2)",
            "description": "Logs a message",
            "ref": "#log"
          }
        ]
      }
    }
  ]
}
